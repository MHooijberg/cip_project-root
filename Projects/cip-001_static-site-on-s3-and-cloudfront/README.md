# Static Site on S3 and CloudFront

This project provisions a static website infrastructure on AWS using Terraform. It leverages S3 for hosting, CloudFront for CDN, Route53 for DNS, and ACM for SSL certificates. The website content is generated by an Astro-based project.

# TODO:
- [ ] Updated + Add Readme's
- [x] Add API Gateway IaC
- [x] Add Lambda IaC
- [x] Add SES IaC
- [x] Update Route53 IaC
- [ ] Setup master workflow (GitHub Actions).
- [ ] Implement AWS SAM
- [ ] Setup infra workflows
- [ ] Setup website workflows
- [ ] Setup lambda workflows
- [ ] Find a way to setup organizations

## Project Structure

```
cip-001_static-site-on-s3-and-cloudfront/
├── infrastructure/        # Terraform IaC code
├── website/               # Astro static site source
├── lambda_email_function/ # Contact API source
└── README.md
```

## Features

- **Terraform IaC**: Automated provisioning and management of AWS resources.
- **S3**: Secure static file hosting.
- **CloudFront**: Global CDN for fast content delivery.
- **Route53**: DNS management for custom domains.
- **ACM**: Automated SSL certificate provisioning.
- **Astro**: Modern static site generator for fast, optimized web pages.
- **API Gateway**: Serve an HTTP API for processing contact forms.
- **SES**: Send emails based on contact form. 



## Getting Started

### Prerequisites

- [Terraform](https://www.terraform.io/downloads.html)
- [Node.js](https://nodejs.org/) & [npm](https://www.npmjs.com/)
- AWS CLI configured with appropriate permissions

### Deployment Steps

1. **Build the Website**
    ```bash
    cd website
    npm install
    npm run build
    ```
    This generates static files in the `website/dist` directory.

2. **Provision Infrastructure**
    ```bash
    cd ../infrastructure
    terraform init
    terraform apply
    ```
    This sets up S3, CloudFront, Route53, and ACM resources.

3. **Upload Static Files**
    Use AWS CLI or Terraform provisioners to sync `website/dist` to the S3 bucket.

    ```bash
    aws s3 sync ../website/dist s3://<your-bucket-name> --delete
    ```

4. **Access Your Site**
    After deployment, your site will be available at the configured domain via CloudFront.

## Customization

- Update domain settings in Terraform variables.
- Modify Astro site content in the `website` folder.

## License

MIT
